function ATEngine(nomecanvas){var engine=this;this.pendenciasAssincronas={};var gl=(document.getElementById(nomecanvas),this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl")),cenas=[],programasShaders={};this.carregarShaders=function(config){for(var nomeShader in config){this.pendenciasAssincronas[programa]=!1;var vShaderNome=config[nomeShader][0],fShaderNome=config[nomeShader][1],programa=new ShaderProgram;programasShaders[nomeShader]=programa,programa.carregarShaders(gl,vShaderNome,fShaderNome,function(resultado){programasShaders[resultado.programa]=!0,verificarPendencias()})}},this.pronta=function(funcao){this.addEventListener("pronta",function(){funcao()})},this.criarCena=function(nome){var cena=new ATCena3D(nome);return cenas.push(cena),cena},this.removerCena(cena);var indice=cenas.indexOf(cena);-1!=indice&&(cenas.splice(indice,1),cena.destruir());var verificarPendencias=function(){for(var tipo in engine.pendenciasAssincronas)if(!engine.pendenciasAssincronas[tipo])return;engine.dispatchEvent(new Event("pronta"))}}
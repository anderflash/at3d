<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="../lib/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../lib/gl-matrix-min.js"></script>
    <script type="text/javascript" src="../dist/at3d.js"></script>
    <script type="text/javascript">
      $(function(){
	try
	{
	  // Criar uma engine
	  var engine = new ATEngine("caixa");
	  // Carregar os shaders para os materiais
	  engine.carregarShaders({
	    ATMaterialCor    :["vcorshader.glsl"        ,"fcorshader.glsl"],
	    ATMaterialTextura:["vtexturashader.glsl","ftexturashader.glsl"]});
	  // Obter os atributos e uniforms
// 	  engine.obterAtributosEUniforms("cor",
// 	    ["aPosition","aColor","aNormal"],
// 	    ["uMMatrix","uVMatrix","uPMatrix","uNMatrix"]);
// 	  engine.obterAtributosEUniforms("textura",
// 	    ["aPosition","aTexture","aNormal"],
// 	    ["uMMatrix","uVMatrix","uPMatrix","uNMatrix"]);
    var caixa = engine.carregarOBJ("cubo","cubo.obj");
    
	  engine.pronta(function(){
	    // Criar uma cena
	    var cena = engine.getCena();
	    var camera = engine.getCamera();
	    cena.adicionarFilho(caixa);
	    engine.desenhar(cena, camera);
	    // Carregar um objeto na cena
	    //cena.carregarOBJ("caixa.obj");
	    // Quando a cena estiver pronta, desenhar
	    //cena.pronta(function(){
	    //  cena.desenhar();
	    //});
	  });
	}catch(e){
	
	}
      });
    </script>
  </head>
  <body>
    <canvas id="caixa"></canvas>
  </body>
</html>
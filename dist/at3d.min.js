function ATCamera(e){var t=mat4.create(),a=mat4.create();this.lookAt=function(e,a,r){mat4.lookAt(t,e,a,r)},this.getMatrizVisualizacao=function(){return t},this.getMatrizProjecao=function(){return a},this.getNome=function(){return e}}function ATCena3D(){var e=[];this.criarObjeto,this.removerObjeto,this.acoplarObjeto,this.desacoplarObjeto,this.desenhar,this.criarObjeto=function(t){var a=new ATObjeto3D(t);e.push(a)},this.removerObjeto(objeto),this.acoplarObjeto=function(e){null!=e.cena&&e.cena!=this&&(e.cena.desacoplarObjeto(e),this.objetos)},this.desacoplarObjeto=function(){}}function ATEngine(e){var t=this,a=(document.getElementById(e),this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl")),r=[new ATCena3D("cena")],n=[new ATCamera("camera")],i={},o=function(){for(var e in t.pendenciasAssincronas)if(!t.pendenciasAssincronas[e])return;t.dispatchEvent(new Event("pronta"))};this.carregarShaders=function(e){for(var t in e){var r=new ATShaderProgram(t,a);i[t]=r,this.pendenciasAssincronas[r]=!1;var n=e[t][0],c=e[t][1];r.carregarShaders(n,c,function(e){i[e.programa]=!0,o()})}},this.pronta=function(e){this.addEventListener("pronta",function(){e()})},this.criarCena=function(e){var t=new ATCena3D(e);return r.push(t),t},this.criarCena("cena"),this.criarCamera=function(e){var t=new ATCamera(e);return n.push(t),t},this.criarCamera("camera"),this.removerCena=function(e){var t=r.indexOf(e);-1!=t&&(r.splice(t,1),e.destruir())},this.fullScreen=function(){}}function ATEvent(){}function ATFragmentShader(){}function ATGeometry(){}function ATKeyboard(){}function ATMaterialCor(){}function ATMaterial(){}function ATMaterialTextura(){}function ATMouse(){}function ATObjeto3D(){this.lerOBJ=function(){}}function ATShader(e){this.caminho=e}function ATShaderProgram(e,t){var a,r,n,i={},o={},c=[],s=1,h=2,u=3,f=4,A=5,l=6,d=this,T=function(e,a,r){var n=t.createShader(a);$.get(e,function(e){t.shaderSource(n,e),t.compileShader(n),c.push(e),r()})};this.carregarShaders=function(e,c,v){vShaderCarregado=!1,fShaderCarregado=!1,a=T(e,t.VERTEX_SHADER,function(){fShaderCarregado?g():vShaderCarregado=!0}),r=T(c,t.FRAGMENT_SHADER,function(){vShaderCarregado?g():fShaderCarregado=!0});var g=function(){n=t.createProgram(),t.attachShader(n,a),t.attachShader(n,r),t.linkProgram(n);for(var e=0;e<codigo.length;e++)for(var c=codigo[e].split("\n"),T=c.length,g=0;T>g;g++)if(c.length>0){var p=c[g].split(" ");switch(p[0]){case"attribute":i[p[2]]=[t.getAttribLocation(n,p[2]),parseInt(p[1].substring(3,1))];break;case"uniform":switch(o[p[2]]=[t.getUniformLocation(n,p[2])],p[1]){case"float":o[p[2]].push(s);break;case"mat3":o[p[2]].push(A);break;case"mat4":o[p[2]].push(l);break;case"vec2":o[p[2]].push(h);break;case"vec3":o[p[2]].push(u);break;case"vec4":o[p[2]].push(f)}}}v({programa:d})}},this.usar=function(){}}function ATTrackball(){}function ATUtils(){}function ATVertexShader(){}ATEvent.ERRO="erro",ATEvent.COMPLETO="completo",ATUtils.inherits(ATEvent,Event),ATUtils.inherits(ATFragmentShader,ATShader),ATUtils.inherits(ATMaterialCor,ATMaterial),ATUtils.inherits(ATMaterialTextura,ATMaterial),ATUtils.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},ATUtils.inherits(ATVertexShader,ATShader);